---
layout: post
title: "AWS (Solutions Cloud Architect Associate) by CloudGuru"
date: 2017-06-01 22:22:22
tags: [video, reviews, 2017]
rating: na
---
## Compute
#### EC2 - Elastic Compute Cloud
- _study whizlabs simulators_
- instance types (helpful to understand) - choose best instance type for a particular scenario
    - D density
    - R RAM
    - M (main) General Purpose, app servers
    - C CPU/Compute optimized
    - G Graphics
    - I IOPS - e.g. databases
    - T Low Cost, General Purpose
    - F FPGA
    - P Graphics (Pics?)
    - X eXtreme Memory (SAP HANA)
- pricing (important)
    1. on-demand: fixed rate by the hour
        - apps being developed or tested
    - reserved: 1 or 3yr term, cheaper for hour charge
        - users make upfront payments
        - applications that require reserved capacity
        - apps w/ steady state or predictable usage
        - can be purchased, prices can be inquired beforehand
    - spot: depending on demand, flexible start and end times
        - applications that are feasible at low compute prices
        - terminated instances won't be charged if terminated by Amazon, if spot price goes above your bid price
        - apps that have flexible start / end times
        - great for licensing (Microsoft, Oracle, so on...)
    - dedicated hosts: pay by the hour
        - useful for regulatory requirements that don't support multi-tenancy (government bodies)
        - great for licensing
        - can be purchased as spot as well
- by default
    - the root device can't be encrypted (there is a workaround though)
    - the EBS root volumes will be terminated on stopping the instance
- instance can be set as Termination Protection (can't be directly terminated)
- tags will help you w/ costs and tracking/drilling down on them
- monitoring can be 5 or 1 minutes (detailed monitoring, extra charges)
- VPC (Virtual Private Cloud)
    - 1 subnet = 1 AZ  
- Security Groups (are just firewalls)

##### EBS - Elastic Block Store
- stay in specific AZ
- EBS Volume types:
    - General Purpose SSD (GP2)
        - 3 IOPS/ GB, burst allowed up to 3000IOPS
        - up to 10k IOPS
    - Provisioned IOPS SSD (IO1)
        - designed for IO intensive, e.g. databases
        - more than 10000 IOPS needed
        - can provision up to 20,000 IOPS
    - Throughput Optimized HDD (ST1)
        - Big Data, Data Warehouse
        - cant be boot vols
        - sequential data
    - Cold HDD (SC1)
        - lowest cost storage
        - file server
        - cannot be boot vol
        - less frequently accessed
    - Magnetic (Standard)
        - lowest cost per GB
        - can be bootable
        - infrequently accessed

##### EFS - Elastic File System - block based storage
- multiple EC2 instances can access EFS at the same time
- each EC2 instance must allow outbound traffic on port 2049 (NFS) - inbound traffic can be the security group
- filesystem and VPC must be in the same region
##### Lambda
- Alexa skills

##### Storage Gateway - _exam_
- connects on-premise with cloud storage
- store data in cloud storage
- storage client (as VM) will replicate async to S3/Glacier
- Types:
    1. File Gateway (NFS) - store directly on S3/S3-IA/Glacier, for flat files, accessed through NFS mount point
    - Volumes Gateway (iSCSI) - volume storage stored as Amazon EBS snapshots; all snapshots are incremental
        1. Stored Volumes: entire volume of your dataset; virtual hard disk 1GB - 16TB
        - Cached Volumes: keeping recent data on premises, older data 1GB - 32TB on S3
    - Tape Gateway (VTL) - virtual tapes to be sent to S3 - NetBackup, Backup Exec, Veam - library that acts as a virtual tape

## Storage
#### S3 - Simple Storage Service
- default all buckets are private
- object based storage - unlimited storage
    - key (name)-value (data) store, name = data
    - version
        - great to be used as a backup tool
    - metadata
        - used for tagging
    - subresources:
        - ACLs & Torrent
- restrictions:
    - all bucket names must contain lowercase letters
- data is spread across multiple devices and facilities
    - size for single file from 0 to 5TB
- files are stored in Buckets (folders)
- SLA 3 nines, built for 4 nines, 11 nines durability
- names must be unique globally - universal namespace
    - bucket name format https://s3-*{aws_region}*.amazonaws.com/{bucket_name}
    - read after write consistency for PUTs of new objects (!!!)
    - eventual consistency for PUTs and DELETEs for overwrite (can take some time to propagate/commit)
    - updates are **atomic**
- storage tiers
    - S3 regular, durable, immediately available, frequently accessed
    - S3 Infrequent Access - durable, immediately available, lower fees, but w/ retrieval fee, min 128KB
        - transition can be done for files > 128KB after 30 days from creation
    - Reduced Redundancy Storage - 4 nines durability - e.g. thumbnails, can be lost
    - Glacier - archival only - 3-5 hours for retrieval - minute/hours latency for retrieval
        - transition can be done after 30 from S3 Inrequent Access
- charges
    - storage / requests / storage mgmt pricing / data transfer pricing / transfer acceleration w/ CloudFront
- permissions
    - users: User level / Objects / Objects' permissions
    - public permissions as well
- once versioning is turned on, it cannot be disabled but only suspended (per bucket)
    - delete marker is kept as a version for that particular object
        - if we delete the 'delete marker' we can **restore** the object
- Cross Region Replication requires versioning enabled on the source bucket as well as destination bucket
- Edge Locations - where content can be cached, different from AWS Region/AZ
- _**read S3 FAQ before exam**_

##### S3 security & encryption
- ACLs or bucket policies
- buckets can be configured to log everything
- Encryption
    - In Transit: SSL/TLS, use HTTPS
    - At Rest
        - Server side
            1. S3 managed keys: AES256 SSE-S3 - each object encrypted with a key, Amazon manages keys
            - AWS Key Mgmt Service, managed keys: SSE-KMS; audit trail, when and whom used the key - separate permissions for the envelop keys
            - Service Side w/ Customer provided keys: SSE-C; you manage the keys yourself
        - Client side encryption; upload encrypted data

##### S3 Transfer Acceleration (not in exam)
- files uploaded to closest edge location
- if users are uploading much data, it will improve their transfer speeds as it will use the closer to the user S3 Edge Locations
- can be enabled from the respective bucket

##### Static Website Hosting
- scales automatically
- can be enabled from S3, for a particular bucket
- cheap and simple way to serve static content, no LB required, can be used as a fallback for high traffic conditions

#### Glacier - archiving solution
- a prefix is a folder inside a S3 bucket
- Lifecycle rules can be defined from the AWS Console
- actions can be defined depending on some parameters:
    - on current version
        - after N days it can be changed to Infreq Access storage class
        - after M days it can be archived to Glacier storage class
        - expire => delete marker is created
    - on previous version (if versioning enabled)
        - similar on 1 and 2
        - permanently delete - cannot be recovered - for free if at least 90 days in Glacier

- Tips
    - successful write - 200 HTTP code
    - upload faster to S3 if enabling multipart upload


## Database
#### RDS - Relational Database Service
#### DynamoDB - NoSQL database
#### Redshift - data warehousing
#### VPC - Virtual Private Cloud

## Analytics
#### EMR
#### Kinesis
#### Cloud Search
#### Elastic Search

## Networking
#### Route 53 - DNS service
#### CloudFront - CDN
- `edge location` the location where content will be cached
    - different from the AWS region
    - will check if resource if available, if not will download it and cache it for a specified amount of time (depending on TTL)
- origin: original file (S3 bucket, EC2 instance, ELB, Route53) can be outside AWS as well
    - dynamic, static and streaming content
    - we can have multiple origins for a distribution
    - Behaviors: regex patterns to serve particular classes
- distribution: given name of CDN
    - web distribution - typically website
    - RTMP for streaming
    - Geo Restrictions: whitelist / blacklist
- extra options: redirect https, https only, allowed http methods - get, head
- TTL always in seconds
    - objects are cached for the life of TTL - default 24h
- signed URLs or signed cookies: restrict viewer access
- custom SSL certificate or default CloudFront certificate
- logging and logging for cookies can be enabled

#### Direct Connect - connecting directly to AWS
##### Lambda - (not for exam)
- code will respond to events

## Security & Identity
#### IAM
- allows you to use identity federation - SSO - from other AD, Facebook, LinkedIn
- your "root" account has complete Admin access by default
- MFA
- Users / Groups / Roles (for resources) / Policies (documents attached to groups)
    - Policies are made up of Policy Documents (json)
    - new users have no permissions by default, if not configured
- IAM is Global, has no particular region
    - Administrator access is same as "root"
    - If "programmatic access" is enabled, you get a token and key - only if enabled your user can use API calls, otherwise not
        - Access Key + Secret access key can be disabled
    - extra permissions can be attached to Users or Groups, independently
    - Role - allow one serivce to interact with another; e.g. EC2 to talk to S3

#### Certificate Mgr
#### Directory Service

## Mgmt tools
#### CloudWatch
- once billing alerts is enabled, it cannot be disabled
- monitoring service for cloud resources
#### Cloud Formation
#### Cloud Trail - auditing
#### Opsworks - Chef
#### Trusted Advisor
- automated environment scan

## Messaging
#### SNS - Simple Notification Service
#### SQS - Simple Queuing Service
#### SES - Simple Email Service

## Migration
#### Snowball - send your drives to AMZN
- previous name Import Export - send your own disks to AWS
- import / export to from S3
- standard: storage, petabyte scale secure appliance to in/out data from AWS; sw. erasure at the end of transfer
- edge: storage (100TB) + compute
- snowmobile: up to 100PB capacity, shipping container size (only US for now)
##### DMS - DB migration Service

## AWS
- Region is geographical area, each Region has at least 2 AZ (Availability Zones - can be considered a data center)
- Edge Locations are CDN end points for CloudFront

#### General information
- AWS 90% yoy growth, 15bln revenue for 2016 (approx)
- CS Arch Associate Exam covers: Messaging, Desktop (high level), Security & Identity, Network, Storage, Database, Mgmt tools, Compute
- Voice/ AI/ Machine Learning
    - _Polly_ text to speech
